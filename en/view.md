# View

KumbiaPHP provides a presentation system, based on views (Views) which is the third component of the MVC system, as discussed in the section "Model, view, controller". The views are templates of reusable code that are used to display data to the user and are located in the directory app/views/.

It is good practice for development, containing the views of a minimum amount of code in PHP, so that it is sufficiently understandable for a Web Designer. To let the views, only the tasks display the results generated by the controllers and show catches of data to users.

Views handler implements the view design pattern in two steps, which is to divide the process to show a view in two parts: the first part is to use a view or «view» associated to a controller action to convert the data coming from the model into presentation logic without specifying any specific format and the second is to establish the format through a template or «template».

Also both the views of action and templates can be used 'partials' or partial views. These partial views are fragments of views that are shared by different views, so that they are reusable presentation logic into the application. Examples: menus, headers, footers, among others.

KumbiaPHP flavour convention for easy and faster programing. Views conventions:

- All views files should have the suffix extension .phtml.
- Each controller has an associated views directory whose name matches the name of the controller in smallcase notation. For example: If you have a driver whose class is called «PersonalTecnicoController» this Convention has a directory of views «personal_tecnico».
- Whenever an action is executed will try to load a view whose name is the same as the action performed.
- The templates must be located in the directory views/_shared/templates.
- The partials should be located in the directory views/_shared/partials.
- By default, the 'default' template is used to display views of action.

To indicate a different view assumed by convention method should be used View::select() on the controller. For example:

```php
<?php  
class GreetingController extends AppController {  
    public function greeting(){   
           View::select('hello');   
   }  
}
```

In this way then that set the action «greeting» will be shown the view greeting/hello.phtml using the default template.

If you do not want to show a view, you must only pass NULL as an argument of View::select().

```php
<?php  
class GreetingController extends AppController {  
    public function index(){   
           View::select(NULL);   
   }  
}  
```

To conclude this section, it should be noted that both the views of action, the templates and the partials are views, but comfort is often refer to the view action simply under the name of «view».

## Send data to the view

To pass data to view these should be loaded as public attributes of the controller and after the action is executed, the views handler charged the public attributes of the controller as variables local level view. Example:

Controller: `controllers/greeting_controller.php`

```php
<?php  
class GreetingController extends AppController{  
    public function hello(){   
           $this->user= 'World' ;   
   }  
}  
```

View: `views/greeting/hello.phtml`

```php
Hello <?php echo $user?>  
```

## Output buffer

To display the contents of the output buffer is made using the View ::content() method, where the contents of the output buffer is mainly them echo or print to make the user and also the Flash messages. When you invoke View::content() shows the contents of the output buffer in the place where it was invoked.

Controller: `greeting_controller.php`

```php
<?php  
class GreetingController extends AppController {  
    public function hello(){   
           Flash::valid('Hello World);   
   }  
}  
```

View: `hello.phtml`

```php
Do greeting:  
<?php View::content() ?>  
```

## Template

The templates are the layer more outside of the view which will be displayed after running an action of the controller, so that it allows to set the format appropriate for the view.

When speaking of format does not refer only to the document type, if not also to elements such as headers and menus. Therefore the template is made up of those elements that as a whole they are used for the presentation of different views, giving thus a reusable format.

### How to create a template?

To build a new template, you must create a file with extension .phtml in views/_shared/templates/ directory , which must correspond with the name of the template.

As previously explained at the beginning of the chapter "The view", view handler uses "view in two steps" design pattern. In the first step, is processed in view of action, then the action view rendered is stored in the output buffer and the template is processed in the second step.

Consequently, as processed action view is stored in the output buffer is necessary to invoke the method View::content() in the place where you want to display the view, as was indicated in section 4.2.

Example:

`views/_shared/templates/example.phtml`

```php
<!DOCTYPE html>  
<html>  
<head>  
   <title>Example Template</title>  
</head>  
<body>  
   <h1>;Example Template</h1>  

    <?php View::content() ?>   
</body>  
</html>  
```

### How to use a template?

To select the template to use you must invoke the method View::template() passing as an argument to the template to use. Example:

Controller:

```php
<?php  
class GreetingController extends AppController {  
    public function hello(){   
           // Select template 'example.phtml'   
           View::template('example');   
   }  
}  
```

It is also possible to indicate to views that you do not use any template and therefore only show the view, for this you should pass NULL as an argument to View::template().

```php
<?php  
class GreetingController extends AppController {  
    public function hello(){   
           // Do not use template   
           View::template(null);   
   }  
}  
```

### Send data to the template

As discussed in the section "Send data to the view," the public attributes of controller are loaded as variables of local field in the view, and show the template, is the second step to show the full view, attributes public of the controller will be similarly charged as variables of local field in the template. Example:

In the greeting_controller.php controller

```php
<?php  
class GreetingController extends AppController {  
    public function hello(){   
           Flash::valid('Hello World');   

            // Pass the title to the page   
           $this->title= 'Greeting to the world';   

            /* No view will not be used, therefore 
            the output will be the buffer and the template */   
           View::select(null, 'greeting');   
   }  
}  
```

In the saludo.phtml template

```php
<!DOCTYPE html>  
<html>  
<head>  
   <title> <?php echo $title ?></title>  
</head>  
<body>  
   <h1>Greeting Template</h1>  

    <?php View::content() ?>   
</body>  
</html>  
```

## Partial

Partials or "partial views" are fragments of views that are shared by different views, so they are reusable presentation logic in the application. The partials are usually items like: menus, header, footer of page, forms, among others.

### How to create un partial?

To build a new partial you must create a file with extension .phtml in the directory views/_shared/partials/ which must correspond with the name of the partial.

Example:

`views/_shared/partials/header.phtml`

```php
<h1>Greeting Template</h1>  
```

### How to use a partial?

To use a partial method should invoke the View::partial() as an argument indicating the desired partial and partial view is displayed in the place where I was invoked.

Example using a partial in a template:

```php
<!DOCTYPE html>  
<html>  
<head>  
   <title>Example</title>  
</head>  
<body>  
    <?php View::partial('header') ?>   

    <?php View::content() ?>   
</body>  
</html>  
```

Importantly, the partial can be used both in view of action, templates and even within other partials.

### Send data to the partials

To pass data to a partial, these must be in an associative array where each key with the corresponding value was loaded as a variable in the local scope of the partial.

Example:

`views/partials/header.phtml`

```php
<h1>Title: <?php echo $title ?></h1>  
```

`views/example/index.phtml`

```php
<?php  View::partial('header' , false, array('title' =>'Example'))
?>  

<p>  
This is an example
</p>  
```

## Grouping in directories

In KumbiaPHP views, partials and templates can be grouped into directories, using the spacer «/» in the route.

### Example of grouping views

View views/user/advertisement/form.phtml, is used follows in the controller:

```php
<?php  
class UserController extends AppController {  
    public function new(){   
           // Select the view
           View::select('advertisement/form');   
   }  
}  
```

### Example of grouping of partial

The partial views/_shared/partials/user/form.phtml, is used in the following manner either in view or template:

```php
<h1>New User</h1>  
<?php View::partial('user/form') ?>  
```

### Example of grouping of template

The template views/_shared/templates/user/admin.phtml, is used follows in the handler:

```php
<?php  
class AdministratorController extends AppController {  
    protected function before_filter(){   
           // Select the template   
           View::template('user/admin');   
   }  
}  
```

## Response types

The types of responses are used to establish various view formats. For example: xml, json and pdf.

To establish a kind of response you must invoke the method View::response() indicating the desired response, once indicating the type of response this is automatically placed as extension of the view file. Therefore use answers types as a whole to the template are a powerful tool for generation of view full user.

Example:

```php
<?php  
class UserController extends AppController {  
    public function index(){   
           // Set reponse type 
           View::response('json');   
   }  
}  
```

In this example, the index.json.phtml view will be shown.

## Use of cache in views

Views handler provides mechanisms through which the views, the partials and the templates can be cached, the user indicates the time during which these will be stored in the cache so that views handler will load these items without having to process them, increasing the performance of your application.

In this sense to indicate cache time is PHP strtotime function format. Example: '+ 1 week';

### Cache views

To cache a view the View::cache() method is used in the controller.

```php
<?php  
class UserController extends AppController {  
    public function index(){   
           // Indicates time view cache
           View::cache('+20 days');   
   }  
}
```

Note that the action runs on the controller because the data passed to the view may likewise be required in the template.

#### Groups of views in cache

You can store the cached views in groups. The groups are very interesting, since you can delete the cache by groups also. Example: Save cache posts in a group, to create, edit, or delete a post, we can delete the cache of that group, so to regenerate the cache.

In this case it is necessary to indicate in the View::cache() method will cache a view to a specific group.

```php
<?php  
class UserController extends AppController {  
    public function index(){   
           // Indicates time view cache  
           View::cache('+20 days' ,'view' ,'myGroup');   
   }  
}  
```

### Cache templates

Cache a template consists of cache altogether both the view and template for a specific URL. The View::cache() method is used to cache a template in the controller indicating the time during which will be cached template.

```php
<?php  
class UserController extends AppController {  
    public function index(){   
           // Indicates time template cache
           View::cache('+20 days' , 'template');   
   }  
}  
```

Should be noted that to increase performance not executes the action in the controller, since show the template is the last step that performs views handler to display the view to the user and this step already all data sent to the view and template have been used.

### Cache of partials

To cache partials should be indicated as the second argument to invoke View::partial() the time during which will be stored in the cache.

```php
<?php  View::partial('user' ,'+1 day') ?>    
<?php  View::partial('user' ,'+1 day' ,array('name'=>'john')) ?>  
```

## Helpers

Helpers are used in the views. Encapsulate code in methods for easy reuse.

KumbiaPHP already comes with helpers created.

But what really useful, is that users can create their own helpers and place them into extensions/app/helpers /. And then use them safely in their views, KumbiaPHP is responsible for loading your helpers so transparently as you use them.

### Html class

Class with methods static that we create optimized HTML tags respecting KumbiaPHP conventions.

#### Html::img()

It allows you to include an image

$src image path

$alt attribute alt for image

$attrs additional attributes

Html::img ($src, $alt = NULL, $attrs = NULL)

```php
<br />/ * Example * / 

echo Html:img('spin.gif'_,'an_imagen');   //the image spin.gif located inside of "/ public/img /"
//with alt artibute 'an image'  
```

#### Html::link()

It allows you to include a link

$action path to action

$texto text to show

$attrs additional attributes

Html::link ($action, $text, $attrs = NULL)

```php
/ * Example * / 
echo html:link('pages/show/kumbia/status'_,'Configuration'); //shows a link with the text 'Configuration'  
```

#### Html::lists()

It creates a html list from an array

$array contents of the list

$type default ul, and not ol

$attrs additional attributes

```php
Html::lists($array ,$type = 'ul' ,$attrs = NULL)   

/*Example*/

$ Ar = array (
   'Belly' => 'Belly'
   'Arms' => 'Arms' ,
   'Head' => 'Head'
   'Neck' => 'Neck'
   'Genitals' => 'Genitals'
   'Legs' => 'Legs'
   'Thorax' => 'Thorax'
   'Other' => 'Others' ) ;
//$ar The array containing the items of the list
echo  Html :: lists ( $ar ,   $type   =   'ol' ) ;   //Show the list
<ol></ol>
$ar2   =   array ( 'Belly' , 'Arms' , 'Head' , 'Neck' , 'Genitals' ,
'Legs' , 'Thorax' , 'Other' ) ;
echo  Html :: lists ( $ar2 ,   $type   =   'ol' ) ;   //Show the list
<ol></ol>  
```

#### Html::gravatar()

It includes images from gravatar.com

$email email to get your gravatar

$alt alternate text for the image. Default: gravatar

$size size of the gravatar. A number from 1 to 512. Default: 40

$default URL gravatar by default if it doesn't exist, or a default gravatar. Default: mm

```php
HTML: gravatar($email, $alt='gravatar', $size=40, $default='mm')

echo Html:gravatar ($email); //Simple
echo Html:link (Html:gravatar ($email), $url); //A gravatar that is a link
echo Html:gravatar($email_,$name_,_20_,_'http://www.example.com/default.jpg'); //Full   
```

#### Html::includeCss()

Includes the CSS files that were previously loaded to the list using the Tag::css()

```php
Tag:css('welcome'); //Put in list a CSS (app/public/css/welcome.css)
echo Html:includeCss; //Add linked resources of the class in the project   
```

#### Html::meta()

Creates a metatag and adds it to a static list that will be added later through Html:includeMetatags ();

$content the metatag content

$attrs additional attributes of the tag

Html::meta($content, $attrs = NULL)

```php
HTML:meta('Kumbiaphp-team'_,"name_=_'Author'");  
//Added: <meta content = "Kumbiaphp-team" name = 'Author' />
Html:meta('text/html;_charset=UTF-8'_,"http-equiv_=_'Content-type'");
//Added: <meta content = "text/html; Charset = UTF-8 "http-equiv = 'Content-type' />  
```

#### Html::includeMetatags()

Add the metatag that previously it had added

```php
Html::meta ( 'Kumbiaphp-team' , "name = 'Author'" ) ;
Html::meta ( 'text/html; charset=UTF-8' , "http-equiv = 'Content-type'" ) ;
echo Html::includeMetatags () ;   //Display <meta content="Kumbiaphp-team" name = 'Author'/>
```

#### Html::headLink()

Adds an element of link type external [

<link />
](http://html.conclase.net/w3c/html401-es/struct/links.html#h-12.3) to the tail of links (to be able to be displayed is required HTML::includeHeadLinks() in a similar way to Html::includeCss()))

$href address url of the resource to link

$attrs additional attributes

```php
Html::headLink($href, $attrs = NULL)  

Html :: headlink ( 'http://www.kumbiaphp.com/public/style.css' , "rel='stylesheet',type='text/css' media='screen'" ) ;
//Se agrega a la cola de links el enlace a un recurso externo, en este caso la hoja de estilo ubicada en "http://www.kumbiaphp.com/public/style.css"

/*Agrega a la cola de links "<link rel="alternate" type="application/rss+xml"
title="KumbiaPHP Framework RSS Feed" href="http://www.kumbiaphp.com/blog/fee
d/" />" con lo cual
podemos incluir un feed sin usar las convenciones de kumbiaphp */

Html :: headlink ( 'http://www.kumbiaphp.com/blog/feed/' , "rel='alternate'
type='application/rss+xml' title='KumbiaPHP Framework RSS Feed'" ) ;

Html :: headlink ( 'http://www.kumbiaphp.com/favicon.ico' , "rel='shortcut
icon',type='image/x-icon'" ) ;   //Agrega la etiqueta <link> para usar un favicon externo

echo  Html :: includeHeadLinks () ;   //Muestra los links que contiene la cola  
```

#### Html::headLinkAction()

Agrega un elemento de vinculo interno de tipo [

<link />
](http://html.conclase.net/w3c/html401-es/struct/links.html#h-12.3) a la cola de enlaces (para poder ser visualizado se requiere de Html::includeHeadLinks() de modo similar que Html::includeCss()) respetando las convenciones de KumbiaPHP.

$href direccion url del recurso a enlazar

$attrs atributos adicionales

Html::headLinkAction($action, $attrs = NULL)

```php
/*Agrega a la cola de links "<link rel="alternate" type="application/rss+xml"
title="KumbiaPHP Framework RSS Feed" href="http://www.kumbiaphp.com/blog/fee
d/" />" con lo cual podemos incluir un feed usando las convenciones de KumbiaPHP.
Siendo 'articulos/feed' el nombre de la vista con el contenido del feed */

Html :: headLinkAction ( 'articulos/feed' ,   "rel='alternate'
type='application/rss+xml' title='KumbiaPHP Framework RSS Feed'" ) ;
echo  Html :: includeHeadLinks () ;   //Muestra los links que contiene la cola  
```

#### Html::headLinkResource()

Agrega un elemento de vinculo a un recurso interno con la etiqueta [

<link />
](http://html.conclase.net/w3c/html401-es/struct/links.html#h-12.3) a la cola de enlaces (para poder ser visualizado se requiere de Html::includeHeadLinks())

$resource ubicacion del recurso en public

$attrs atributos adicionales

Html::headLinkResource($resource, $attrs = NULL)

```php
//Agrega la etiqueta <link> para usar un favicon interno ubicado en el directorio '/public/'
Html :: headLinkResource ( 'favicon.ico' , "rel='shortcut
icon',type='image/x-icon'" ) ;   
echo  Html :: includeHeadLinks () ;   //Muestra los links que contiene la cola  
```

#### Html::includeHeadLinks()

Incluye los links que previamente se pusieron en cola

```php
Html :: headlink ( 'http://www.kumbiaphp.com/favicon.ico' , "rel='shortcut
icon',type='image/x-icon'" ) ;   //Agrega la etiqueta <link> para usar un favicon externo

Html :: headLinkAction ( 'articulos/feed' , "rel='alternate' type='application/rss+xml' title='KumbiaPHP Framework RSS Feed'" ) ;
echo  Html :: includeHeadLinks () ;  
```

### Clase Tag

Esta clase nos va a permitir adicionar archivos JS y CSS a nuestro proyecto, bien sean archivos que se encuentren en nuestro servidor o en un servidor externo. Tambien vamos a poder hacer

Las funciones de esta clase son de tipo staticas, lo que nos permite usarlas directamente de la forma como se presentan a continuacion.

#### Tag::css()

Incluye un archivo CSS a la lista

```php
Tag :: css ( 'bienvenida' ) ;     //Pone en lista un CSS (app/public/css/bienvenida.css)
echo  Html :: includeCss () ;   //Adiciona los recursos enlazados de la clase en el proyecto  
```

#### Tag::js()

Incluye un archivo JavaScript a la vista, partial o template

```php
<?php  
echo  Tag:: js ( 'jquery/jquery.kumbiaphp' ); //Adiciona un archivo javascript (/app/public/javascript/jquery/jquery.kumbiaphp.js)  
?>  
```

### Clase Form

Clase para el manejo y la creacion de formularios

#### Form::open()

Crea una etiqueta de formulario

$action accion a la que envia los datos, por defecto llama la misma accion de donde proviene

$method 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'. Por defecto se tiene en 'POST'

$attrs atributos adicionales

Form::open($action = NULL, $method = 'POST', $attrs = NULL)

```php
/*Ejemplo*/  
<?php   echo  Form:: open (); ?> //inicia un formulario que enviara los datos a la accion que corresponde al controller actual  
<?php   echo  Form:: open ( 'usuarios/nuevo' ); ?>  //inicia un formulario que enviara los datos al controller 'usuarios' y la accion 'nuevo'  
```

#### Form::openMultipart()

Crea una etiqueta de formulario multipart, este es ideal para formularios que contienen campos de subida de archivos

$action accion a la que envia los datos, por defecto llama la misma accion de donde proviene

$attrs atributos adicionales

Form::openMultipart ($action = NULL, $attrs = NULL)

```php
/*Ejemplo*/
//inicia un formulario multipart que enviara los datos a la accion que corresponde a la vista actual
echo  Form :: openMultipart () ;
//inicia un formulario multipart que enviara los datos al controller 'usuario' y la accion 'nuevo'  
echo  Form :: openMultipart ( 'usuarios/nuevo' ) ; 
```

#### Form::close()

Crea una etiqueta de cierre de formulario

```php
/*Ejemplo*/
echo  Form :: close () ;
//crea una etiqueta de cierre de formulario </form>  
```

#### Form::input()

Crea un campo de tipo input

$attrs atributos para el tag

$content contenido interno

Form::input($attrs = NULL, $content = NULL)

```php
/*Ejemplo*/
echo  Form :: input ( 'nombre' ) ;  
```

#### Form::text()

Crea un campo de tipo input

Siempre que se le da el parametro name de la forma model.campo, es decir un nombre que contenga un punto dentro del string, se crea el campo de texto con el name= "model[campo]" y el id="model_campo".

$field Nombre de campo

$attrs atributos de campo

$value valor inicial para el input

Form::text($field, $attrs = NULL, $value = NULL)

```php
/*Ejemplo*/
//crea un campo de tipo texto con el parametro name= "nombre", id = "nombre"
echo  Form :: text ( 'nombre' ) ;
//crea un campo de tipo texto con el parametro name= "usuario[nombre]", id = "usuario.nombre"
echo  Form :: text ( 'usuario.nombre' ) ;   
//crea un campo de tipo texto con el parametro name= "nombre", id = "nombre", class= "caja", value = "55"  
echo  Form :: text ( 'nombre' , "class= 'caja'" , '55' ) ;   
```

#### Form::pass()

Crea un campo de tipo Password

$field nombre de campo

$attrs atributos de campo

$value valor inicial para el campo

Form::pass($field, $attrs = NULL, $value = NULL)

```php
/*Ejemplo*/
echo  Form :: pass ( 'password' ) ;   //crea un campo de tipo password con el
parametro name= "password"  
```

#### Form::textarea()

Crea un textarea

$field nombre de campo

$attrs atributos de campo

$value valor inicial para el textarea

Form::textarea($field, $attrs = NULL, $value = NULL)

```php
echo  Form :: textarea ( 'detalles' ) ;   //Crea un textarea  
```

#### Form::label()

Crea un label y lo asocia a un campo

$text texto a mostrar

$field campo al que hace referencia

$attrs array de atributos opcionales

Form::label($text, $field, $attrs = NULL)

```php
//Crea un label
para el campo nombre con el texto 'nombre de usuario:'
echo  Form :: label ( 'nombre de usuario:' , 'nombre' ) ;  
echo  Form :: text ( 'nombre' ) ;  
```

#### Form::hidden()

Crea un campo hidden (campo oculto)

$field nombre de campo

$attrs atributos adicionales de campo

$value valor inicial para el campo oculto

Form::hidden($field, $attrs = NULL, $value = NULL)

```php
echo  Form :: hidden ( 'id' , NULL , 12 ) ;   //Crea un campo oculto con el name="id" y el value="12"  
```

#### Form::dbSelect()

Crea campo Select que toma los valores de objetos de ActiveRecord, para esta version del framework el uso de este helper ha sido simplificado. Ya no es necesario instanciar el modelo.

$field nombre del modelo y campo pk (bajo la convencion modelo.campo_id)

$show campo que se mostrara

$data array de valores, array('modelo','m e todo','param')

$blank campo en blanco

$attrs atributos de campo

$value valor inicial para el campo

```php
Form::dbSelect($field, $show = NULL, $data = NULL, $blank = NULL, $attrs =
NULL, $value = NULL)  
```

Vista

```php
//la forma mas facil, carga el modelo(campo) y muestra el primer campo despues del pk(id)
echo  Form :: dbSelect ( 'usuarios.campo_id' ) ;
//muestra el campo y lo ordena ascendentemente    
echo  Form :: dbSelect ( 'usuarios.campo_id', 'campo' ) ;  
```

#### Form::select()

Crea un campo Select (un combobox)

$field nombre de campo

$data array de valores para la lista desplegable

$attrs atributos de campo

$value valor inicial para el campo

Form::select($field, $data, $attrs = NULL, $value = NULL)

```php
$ar2   =   array ( 'Abdomen' , 'Brazos' , 'Cabeza' , 'Cuello' , 'Genitales' , 'Piernas' , 'Torax' , 'Otros' ) ;
//Crea un campo Select (un combobox) con el nombre 'region' y teniendo preseleccionado 'Cuello'  
echo  Form :: Select ( 'region' ,   $ar2 , NULL, 'Cuello' ) ;   
 ```  

Resultado:

```php
<select id="region" name="region">
  <option value="0">Abdomen</option>
  <option value="1">Brazos</option>
</select>  
```

Otra Posibilidad:

```php
$ar2   =   array ( 'Abdomen' => 'Abdomen' , 'Brazos' => 'Brazos' , 'Cabeza' =>
'Cabeza' , 'Cuello' => 'Cuello' , 'Genitales' => 'Genitales' , 'Piernas' =>
'Piernas' , 'Torax' => 'Torax' , 'Otros' => 'Otros' ) ;

echo  Form :: Select ( 'region' ,   $ar2 , NULL, 'Cuello' ) ;  
```

Resultado:

```php
<select id="region" name="region">
  <option value="Abdomen">Abdomen</option>
  <option value="Brazos">Brazos</option>
</select>  
```

#### Form::file()

Crea campo File para subir archivos, el formulario se debe abrir con Form::openMultipart()

$field nombre de campo

$attrs atributos de campo

Form::file($field, $attrs = NULL)

```php
echo  Form :: openMultipart () ;   //Abre el formulario multipart
echo  Form :: file ( 'subir' ) ;  crear el campo para subir archivos
echo  Form :: close () ;   //Cierra el formulario  
```

#### Form::button()

Crea un boton

$text texto del boton

$attrs atributos del boton

Form::button($text, $attrs = NULL)

```php
echo  Form :: button ( 'calcular' ) ;   //Crea un boton con el texto 'calcular'  
```

#### Form::submitImage()

Crea un boton de tipo imagen siguiendo las convenciones de KumbiaPHP, la imagen debera estar dentro del directorio '/public/img/'

$img ruta de la imagen que usa el boton

$attrs atributos del boton

Form::submitImage($img, $attrs = NULL)

```php
echo  Form :: submitImage ( 'botones/edit.gif' ) ;   //Crea un boton con la imagen 'botones/edit.gif'  
```

#### Form::submit()

Crea un boton de submit para el formulario actual

$text texto del boton

$attrs atributos del boton

Form::submit($text, $attrs = NULL)

```php
echo  Form :: submit ( 'enviar' ) ;   //Crea un boton con el texto 'enviar'  
```

#### Form::reset()

Crea un boton reset para el formulario actual

$text texto del boton

$attrs atributos del boton

Form::reset($text, $attrs = NULL)

```php
echo  Form :: reset ( 'reiniciar' ) ;   //Crea un boton con el texto
'reiniciar'  
```

#### Form::check()

Crea un checkbox

$field nombre de campo

$value valor en el checkbox

$attrs atributos de campo

$checked indica si se marca el campo

Form::check($field, $value, $attrs = NULL, $checked = NULL)

```php
// Crea un check seleccionado con id="recuerdame" , name="recuerdame" y value="1"
echo  Form :: check ( 'recuerdame' , '1' , '' , true ) ;  
// Crea un check NO seleccionado con id="recuerdame" , name="recuerdame" y value="1"
echo  Form :: check ( 'recuerdame' , '1' , '' , false ) ;     
```

#### Form::radio()

Crea un radio button

$field nombre de campo

$value valor en el radio

$attrs atributos de campo

$checked indica si se marca el campo

Form::radio($field, $value, $attrs = NULL, $checked = NULL)

```php
$on   =   'masculino' ;
//<input id="rdo1" name="rdo" type="radio" value="masculino" checked="checked">
echo  Form :: radio ( "rdo" ,   'masculino' ,  NULL ,  TRUE ) ;  
//<input id="rdo2" name="rdo" type="radio" value="femenino">  
echo  Form :: radio ( "rdo" ,   'femenino' ) ; 
```

### Js

Este helper ofrece algunas implementaciones que utilizan javascript simple.

#### Js::link ()

Crea un enlace que al pulsar muestra un dialogo de confirmacion para redireccionamiento a la ruta indicada.

$action ruta a la accion

$text texto a mostrar

$confirm mensaje de confirmacion

$class clases adicionales para el link

$attrs $attrs atributos adicionales

Js::link ($action, $text, $confirm = '¿Esta Seguro?', $class = NULL, $attrs = NULL)

```php
<?php echo Js::link('usuario/eliminar/5', 'Eliminar'); ?>  
```

Si desea aplicar una clase de estilo al enlace debe indicarlo en el argumento $class .

```php
<?php echo Js::link('usuario/eliminar/5', 'Eliminar', '¿Esta seguro de esta
operacion?', 'b_eliminar') ?>  
```

#### Js::linkAction ()

Crea un enlace que al pulsar muestra un dialogo de confirmacion para redireccionamiento a la accion indicada.

$action accion de controlador

$text texto a mostrar

$confirm mensaje de confirmacion

$class clases adicionales para el link

$attrs $attrs atributos adicionales

Js::linkAction($action, $text, $confirm = '¿Esta Seguro?', $class = NULL, $attrs = NULL)

```php
<?php echo Js::linkAction('eliminar/5', 'Eliminar'); ?>  
//Si desea aplicar una clase de estilo al enlace debe indicarlo en el argumento $class
<?php echo Js::linkAction('eliminar/5', 'Eliminar', '¿Esta seguro de esta operacion?', 'b_eliminar') ?>  
```

#### Js::submit ()

Crea un boton submit que al pulsar muestra un dialogo de confirmacion.

$text texto a mostrar

$confirm mensaje de confirmacion

$class clases adicionales para el link

$attrs atributos adicionales

Js::submit ($text, $confirm = '¿Esta Seguro?', $class = NULL, $attrs = NULL)

```php
<?php echo Js::submit('Guardar') ?>  
//Si desea aplicar una clase de estilo al boton debe indicarlo en el argumento $class .
<?php echo Js::submit('Guardar', '¿Esta Seguro?', 'boton_guardar') ?>  
```

#### Js::submitImage ()

Crea un boton tipo image que al pulsar muestra un dialogo de confirmacion.

$img ruta a la imagen

$confirm mensaje de confirmacion

$class clases adicionales para el link

$attrs atributos adicionales

Js::submitImage($img $confirm = '¿Esta Seguro?', $class = NULL, $attrs = NULL)

```php
<?php echo Js::submitImage('botones/guardar.png') ?>  
//Si desea aplicar una clase de estilo al boton debe indicarlo en el argumento $class .
<?php echo Js::submitImage('botones/guardar', '¿Esta Seguro?', 'boton_guardar') ?>  
```

### Ajax

Este helper ofrece implementaciones para facilitar la integracion con AJAX.

#### Ajax::link()

Crea un enlace que actualiza la capa indicada con el contenido producto de la peticion web.

$action ruta a la accion

$text texto a mostrar

$update capa a actualizar

$class clases adicionales

$attrs atributos adicionales

Ajax::link ($action, $text, $update, $class=NULL, $attrs=NULL)

Como ejemplo, crea un enlace que al pulsar emita un saludo. Con el fin anterior se tienen las siguientes vistas y controladores:

controllers/saludo_controller.php

```php
<?php
class SaludoController extends AppController
{
    public function index()
    {}

    public function hola()
    {
        View::template(NULL);
    }
}  
```

views/saludo/hola.phtml

Hola

views/saludo/index.phtml

```php
<div id="capa_saludo"></div>
<?php
    echo Ajax::link('saludo/hola', 'Mostrar Saludo', 'capa_saludo');
    echo Tag::js('jquery/jquery+kumbiaphp.min');
?>  
```

Al acceder a la accion index del controlador saludo se tiene:

![](images/image10.png)

Luego de pulsar el enlace se coloca el resultado de la peticion ajax en la capa.

![](images/image01.png)

#### Ajax::linkAction()

Crea un enlace a una accion del controlador actual que actualiza la capa indicada con el contenido producto de la peticion web.

$action accion

$text texto a mostrar

$update capa a actualizar

$class clases adicionales

$attrs atributos adicionales

Ajax::linkAction ($action, $text, $update, $class=NULL, $attrs=NULL)

```php
<?php echo Ajax::linkAction('hola', 'Mostrar Saludo', 'capa_saludo') ?>  
```

Por supuesto... aun falta a esta documentacion, por el momento les recomiendo que revisen el CRUD de la version 1.0 beta 2 alli podran ver otros cambios, estos se documentaran muy pronto [CRUD Beta2 KumbiaPHP](http://wiki.kumbiaphp.com/Beta2_CRUD_en_KumbiaPHP_Framework)